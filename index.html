<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Unseen: Pitch Deck [Alchemical Glitch v8 - Final Performance Tweaks]</title>
    
    <!-- Use a script tag for Tailwind CSS CDN as required by their documentation -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Preload critical resources like fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Cinzel:wght@700;900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fallback for browsers that don't support preload -->
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Cinzel:wght@700;900&display=swap"></noscript>

    <style>
        /* Keyframe animations remain the same */
        @keyframes glitch { 0% { transform: translate(0); } 20% { transform: translate(-2px, 2px); } 40% { transform: translate(-2px, -2px); } 60% { transform: translate(2px, 2px); } 80% { transform: translate(2px, -2px); } 100% { transform: translate(0); } }
        @keyframes text-flicker { 0%, 100% { opacity: 1; text-shadow: 0 0 8px #FF00FF, 0 0 12px #FF00FF; } 50% { opacity: 0.8; text-shadow: 0 0 8px #00FFFF, 0 0 12px #00FFFF; } }
        
        /* Base styles */
        html { overflow: hidden; } /* Prevent body scroll on the html element */
        body { font-family: 'Roboto Mono', monospace; background-color: #0A0A0A; color: #EAEAEA; }
        .font-cinzel { font-family: 'Cinzel', serif; }

        /* Dynamic viewport height for mobile browsers */
        .h-dynamic-screen {
            height: 100vh; /* Fallback for browsers that don't support Custom Properties */
            height: calc(var(--vh, 1vh) * 100);
        }

        /* Slide transition styles */
        .slide { 
            transition: opacity 0.5s ease-in-out; 
            will-change: opacity; 
            display: flex; 
            opacity: 0;
            visibility: hidden;
            position: absolute; /* All slides are absolute to stack them */
            top: 0; left: 0; right: 0; bottom: 0;
            user-select: none;
            -webkit-user-select: none;
        }
        .slide.slide-active { 
            opacity: 1; 
            visibility: visible;
            position: relative; /* Active slide takes up space */
        }

        /* Glitch text effect styles */
        .glitch-text::before, .glitch-text::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #0A0A0A; overflow: hidden; }
        .glitch-text::before { left: 2px; text-shadow: -2px 0 #FF00FF; animation: glitch 2s infinite linear reverse; }
        .glitch-text::after { left: -2px; text-shadow: -2px 0 #00FFFF; animation: glitch 2s infinite linear; }
        
        /* Improved navigation button styles for better touch targets */
        .nav-button { transition: all 0.2s ease; border: 1px solid #444; }
        .nav-button:hover { background-color: #FF00FF; color: #0A0A0A; border-color: #FF00FF; transform: scale(1.05); }
        
        /* Slide indicator styles */
        .slide-indicator.active { background-color: #FF00FF; box-shadow: 0 0 5px #FF00FF; border-color: #FF00FF; }
        
        /* Data card styles */
        .data-card { border: 1px solid #333; background-color: rgba(20,20,20,0.3); backdrop-filter: blur(5px); }
    </style>
</head>
<body>

    <main class="w-screen h-dynamic-screen flex flex-col p-4 sm:p-8">
        <!-- Container now has a touch-action property to improve swipe experience -->
        <div id="slideshow-container" class="w-full flex-grow max-w-5xl mx-auto flex items-center justify-center relative border-2 border-gray-800 bg-black/20 rounded-lg overflow-hidden" style="touch-action: pan-y;">
            <!-- Slides will be injected here by JS on demand -->
        </div>

        <!-- Navigation with responsive indicators -->
        <div class="w-full max-w-5xl mx-auto flex items-center justify-center space-x-6 z-10 pt-4 flex-shrink-0">
            <button id="prev-btn" class="nav-button p-3 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
            </button>
            
            <!-- Desktop indicator dots (hidden on mobile) -->
            <div id="indicator-container" class="hidden sm:flex space-x-3"></div>
            
            <!-- Mobile indicator text (hidden on desktop) -->
            <div id="mobile-indicator" class="flex sm:hidden items-center justify-center font-mono text-lg text-gray-400"></div>

            <button id="next-btn" class="nav-button p-3 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
            </button>
        </div>
    </main>

    <script>
        // --- DYNAMIC VIEWPORT HEIGHT FIX ---
        // This addresses the issue on mobile browsers where the viewport height unit (vh)
        // doesn't account for the browser's UI (like the address bar).
        function setViewportHeight() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        // Set the height on initial load
        setViewportHeight();
        // Reset the height whenever the window is resized (e.g., orientation change)
        window.addEventListener('resize', setViewportHeight);


        // --- SLIDE DATA ---
        const slideData = [
            {
                type: 'title',
                logoUrl: 'images/obelisk.webp',
                title: 'THE UNSEEN',
                subtitle: "We're already whole. For those with the eyes to see."
            },
            {
                type: 'split',
                title: 'The Core Problem: The Great Forgetting',
                body: "Our culture teaches a fundamental lie: that parts of ourselves are unacceptable and must be hidden to ensure safety and belonging. We are not sanitizing ourselves because of Instagram; we are sanitizing ourselves because our entire somatic understanding of what safety feels like is rooted in the idea that we can never show the world what we really are—that we could never be accepted if we did. That we cannot accept those parts in ourselves.",
                image: 'images/mask.webp',
                image_position: 'right'
            },
             {
                type: 'split',
                title: 'The Symptom: The Loneliness Epidemic',
                body: "The loneliness epidemic is a direct consequence of this fragmentation. We seek niche online communities to find acceptance for our curated selves, yet we feel increasingly isolated in the real world. The media portrays loneliness as a lack of connection, but its true root is the lie that the world doesn't want our full, authentic selves.<br/><br/>The result is a multi-billion dollar 'loneliness economy' filled with superficial solutions.",
                image: 'images/symptom.webp',
                image_position: 'left'
            },
            {
                type: 'split',
                title: 'The Blocker: The Need for a Ladder',
                body: "Most people cannot handle going straight into the fire of true shadow work. The psychological defenses are too strong. The social conditioning runs too deep. They need massive training wheels. They need a gentle, progressive path that meets them where they are and skillfully guides them deeper.<br/><br/>They don't need a destination. They need a ladder. We have built that ladder.",
                image: 'images/ladder.webp',
                image_position: 'right'
            },
            {
                type: 'split',
                title: 'Our Solution: A Spontaneous Dojo for the Soul',
                body: "A gamified, P2P mobile experience that turns the friction of human interaction into the grist for the mill of self-discovery. It's a space to practice the art of connection, in real-time, with strangers.<br/><br/>The goal is not to feel good. The goal is to feel *everything*. We don't avoid triggers; we gamify them. We don't prevent rejection; we build a playground around it.",
                image: 'images/dojo.webp',
                image_position: 'right'
            },
            {
                type: 'split',
                title: 'The Game Aesthetic: A Progressive Initiation',
                body: "The app's UI is part of the journey. New users are welcomed with a clean, familiar, light-mode interface—the ultimate 'normie mode' training wheels. As they prove their courage and ascend the ranks, the UI itself begins to transform. At key initiations, the interface will 'exfoliate,' cracking and peeling away to reveal the darker, more esoteric, and more alive 'Alchemical Glitch' aesthetic hiding beneath. The app grows with you. The container becomes the crucible.",
                image: 'images/ui-exfoliation.webp',
                image_position: 'left'
            },
            {
                type: 'split',
                title: 'The Game Mythology: A Self-Aware Cult',
                body: "We are a modern mystery school that knows it's a mystery school. You are not a 'user'; you are an 'Initiate.' This is not an 'app'; it's a 'Dojo.' Prompts are 'Incantations.' An in-person meeting is 'The Crossing.' Our voice is a paradoxical blend of profound sincerity and cheeky, provocative humor. We acknowledge the absurdity of gamifying enlightenment while being deadly serious about the transformative power of the work. We are the cult that wants you to think for yourself.",
                image: 'images/mythology.webp',
                image_position: 'right'
            },
            {
                type: 'standard',
                title: 'The Game Mechanics',
                body: "Beyond the prompts, the game is a rich ecosystem of interaction.",
                cards: [
                    { title: "The In-the-Moment Quest", body: "The ultimate goal: after a positive exchange, the app prompts both users to connect face-to-face. A 30-second countdown creates tension and excitement." },
                    { title: "Gamified Rejection", body: "If a quest is declined, the app reframes it as a new opportunity to explore that feeling and earn points, turning a 'negative' experience into a core part of the game." },
                    { title: "Nudges & Leaderboards", body: "Higher-ranked players can 'nudge' others toward more vulnerable interactions. Local leaderboards create ephemeral, playful competitions." },
                    { title: "The Shadow Council", body: "A self-regulating moderation system of high-ranked players who distinguish between difficult feedback and actual toxicity, ensuring the container remains safe." }
                ]
            },
            {
                type: 'split',
                title: 'The Unfolding Initiations',
                body: "Ascending to a new major Level is not automatic. It is a rite of passage. It requires not just the accumulation of ANIMA (points), but the successful completion of a 'Trial'—a specific, challenging task designed to test the skills of that level. These trials are vetted by higher-level players ('Seers'), ensuring that progression is a measure of genuine growth, not just grinding. Any player can choose to plateau at a level they are comfortable with, continuing to play and practice within that container for as long as they wish.",
                image: 'images/initiation.webp',
                image_position: 'left'
            },
            {
                type: 'level',
                level: 1,
                rank: 'The Lying Hider',
                title: 'The First Gate: The Challenge of Initiation',
                body: "The first level isn't about the prompts. It's about the courage to begin. To overcome the cultural conditioning and social anxiety of engaging with a stranger. We skip the small talk and dive into the shallow end of the deep end.",
                prompt: '"What do you think my name says about me?"',
                ui_image: 'https://placehold.co/250x500/0A0A0A/EAEAEA?text=UI+MOCKUP+L1'
            },
            {
                type: 'level',
                level: 2,
                rank: 'The Rambling Wanderer',
                title: 'The Crossroads: Revealing the Self',
                body: "Level two introduces the basics of authentic relating. It's about revealing something true about your inner world that feels slightly outside the norms of casual conversation. It's the practice of speaking your subjective truth.",
                prompt: '"What\'s a compliment you\'ve received that you\'ve never forgotten?"',
                ui_image: 'https://placehold.co/250x500/0A0A0A/EAEAEA?text=UI+MOCKUP+L2'
            },
            {
                type: 'level',
                level: 3,
                rank: 'The Fumbling Seer',
                title: 'The Mirror: Full-Fledged Relating',
                body: "This is where the training wheels come off. Level three is pure, potent authentic relating. The prompts are designed to elicit present-moment awareness, relational dynamics, and the beginnings of shadow work.",
                prompt: '"What are you noticing in my eyes right now?"',
                ui_image: 'https://placehold.co/250x500/0A0A0A/EAEAEA?text=UI+MOCKUP+L3'
            },
            {
                type: 'level',
                level: 4,
                rank: 'The Knowing Idiot',
                title: 'The Abyss: Inviting the Trigger',
                body: "Welcome to the shadow. Level four is designed to be intentionally triggering. The prompts push users towards the '100% projection model'—the understanding that what we see in others is a reflection of ourselves. This is where the real work begins.",
                prompt: '"What part of me makes you the most uncomfortable?"',
                ui_image: 'https://placehold.co/250x500/0A0A0A/EAEAEA?text=UI+MOCKUP+L4'
            },
            {
                type: 'level',
                level: 5,
                rank: 'The Grand Hypocrite',
                title: 'The Rebirth: Exfoliating the Self',
                body: "The final level. The prompts here are designed to feel threatening to the user's core identity stories. The game is no longer about connection; it's about using the mirror of the other to exfoliate old notions of who you are, to be reborn as yourself.",
                prompt: '"Tell me the story of who you are, and I will tell you where you\'re lying."',
                ui_image: 'https://placehold.co/250x500/0A0A0A/EAEAEA?text=UI+MOCKUP+L5'
            },
            {
                type: 'standard',
                title: 'The Two Trojan Horses',
                body: "Our strategy is a progressive initiation, hiding profound secrets within a simple game. This is our core moat.",
                cards: [
                    { title: "1. The Game within the Game", body: "We lure users in with a fun, edgy game of authentic relating. The deeper truth is that the game is a curriculum, designed to systematically guide users from simple vulnerability into direct, challenging, and transformative shadow work." },
                    { title: "2. The Secret within the Game", body: "For those who go deep enough, a second secret is revealed. The entire game has a hidden economy. Every act of courage generates an 'offering,' a virtual token that has its own mythology and purpose, culminating in 'The Great Unveiling.'" }
                ]
            },
            { 
                type: 'split',
                title: 'The Secret: The Mythology of the Vault',
                body: "As players ascend the ranks, they uncover hints of a deeper mystery. A secret economy. An offering for their courage. They learn that every act of vulnerability is being recorded in a celestial ledger, held in escrow, awaiting a prophesied date.",
                image: 'images/vault.webp',
                image_position: 'left' 
            },
            {
                type: 'split',
                title: 'The Reveal: The Great Unveiling',
                body: "Yes, we are a cult. And cults, cheekily, want to make money. We are building a crypto-ready economy around a virtual token, **ANIMA**. It has in-game utility and is non-transferable for 5 years. <br/><br/>On a pre-ordained, mythologized date, **The Great Unveiling** will commence, and the ledger will be decentralized. This turns a legal necessity into a core piece of our lore.",
                image: 'images/anima.webp', image_position: 'right' 
            },
            {
                type: 'market',
                title: 'The Market: A Blue Ocean of Disconnection',
                body: "We sit at the convergence of proven, multi-billion dollar markets, yet we have no direct competitors. We are creating a new category: **Connection Practice**.",
                stats: [
                    { value: "120M+", label: "Mindfulness App Users Seeking Social Integration" },
                    { value: "336M+", label: "Viral TikTok Views for Vulnerability Card Games" },
                    { value: "7.4%", label: "CAGR of Dating App Market Failing to Provide Authenticity" }
                ]
            },
            { type: 'business', title: 'The Business Model & GTM', items: [ { title: 'Go-to-Market: Hyper-Density', body: 'Our P2P core requires density. We will launch in hyper-focused locations (university campuses, specific urban neighborhoods) to guarantee the magic of an instant connection is the first experience for new users.' }, { title: 'Freemium Subscription', body: '$7.99/mo or $49.99/yr for unlimited play, premium prompt decks, and advanced analytics.' }, { title: 'Lean Operations', body: 'Our P2P architecture provides an extreme capital advantage with initial server costs under $200/month.' }, { title: '5-Year Projection', body: 'Based on a 4% conversion rate, we project achieving 5 Million MAU and over $15 Million ARR by Year 5.' } ] },
            { type: 'standard', title: 'The Ask', body: "<p class='font-cinzel text-6xl font-bold my-6 text-cyan-400'>$750,000</p><p class='text-xl'>for an 18-month runway to build the MVP and seed our first hyper-local networks.</p><br/><p class='text-xs text-gray-600'>(Just kidding. We're not actually seeking seed funds. We're going to vibe code the entire MVP.)</p>" },
            {
                type: 'standard',
                title: 'The Challenges (& Our Answers)',
                body: "We are not naive. This is a complex endeavor with significant risks. Here's how we're addressing the biggest ones head-on:",
                cards: [
                    { title: "The 'Empty Room' Problem", body: "Our 'Hyper-Density' GTM strategy is designed specifically to solve this. We launch at events and on campuses, not cities, ensuring a critical mass of users from day one." },
                    { title: "Psychological Safety", body: "The game's progression is a carefully calibrated path. We will not unlock higher, more triggering levels until we have a robust, community-led support system (The Shadow Council) in place. We have a profound duty of care." },
                    { title: "The 'Cult' Vibe", body: "Our brand voice is our greatest tool and our greatest risk. We mitigate this by leading with the 'game' for mass-market appeal. The deeper, more esoteric 'mystery school' lore is a reward for users who progress, not a barrier to entry." },
                    { title: "Legal & Regulatory Risk", body: "The ANIMA token is our biggest legal challenge. Our 'crypto-ready' approach (a virtual point system for the first 5 years) allows us to build the entire mythology and in-game economy while deferring the immense legal and technical risks of decentralization until the company and the regulatory landscape are mature." }
                ]
            },
            {
                type: 'paradox',
                title: 'The Unseen is a Paradox',
                paradoxes: [
                    "A technology that makes you forget your phone.",
                    "A community built on the beauty of fleeting moments.",
                    "A game where the only opponent is your own self-deception.",
                    "A mirror that shows you your own face by looking at a stranger."
                ],
                image: 'images/paradox.webp'
            },
        ];

        // --- DOM ELEMENTS ---
        const container = document.getElementById('slideshow-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const indicatorContainer = document.getElementById('indicator-container');
        const mobileIndicator = document.getElementById('mobile-indicator');
        
        // --- STATE ---
        let currentSlide = 0;
        const totalSlides = slideData.length;
        const slideElements = new Array(totalSlides).fill(null);
        
        // --- SWIPE LOGIC STATE ---
        let touchStartX = 0;
        let touchEndX = 0;
        const swipeThreshold = 50; // Minimum distance for a swipe

        // --- FUNCTIONS ---

        /**
         * Creates the HTML for a single slide based on its data.
         */
        function createSlideHTML(data) {
            let innerHtml = '';
            // Note: Added loading="lazy" to all <img> tags for performance.
            switch (data.type) {
                case 'title':
                    innerHtml = `<div class="w-full h-full flex flex-col items-center justify-center text-center">
                        <img src="${data.logoUrl}" alt="The Unseen Logo" class="w-100 h-80 mb-8 animate-pulse" loading="lazy">
                        <h1 class="font-cinzel text-5xl sm:text-7xl font-black tracking-widest relative glitch-text" data-text="${data.title}">${data.title}</h1>
                        <p class="mt-4 text-lg sm:text-xl text-gray-400 tracking-wider">${data.subtitle}</p>
                    </div>`;
                    break;
                case 'split':
                    innerHtml = `<div class="w-full h-full flex flex-col md:flex-row items-center justify-center gap-0 md:gap-8 ${data.image_position === 'left' ? 'md:flex-row-reverse' : ''}">
                        <div class="w-full h-48 md:h-full md:w-1/2 bg-cover bg-center flex-shrink-0" style="background-image: url('${data.image}')"></div>
                        <div class="w-full md:w-1/2 flex flex-col justify-center text-left p-6 md:p-4">
                            <h2 class="font-cinzel text-3xl sm:text-4xl font-bold mb-4 md:mb-8">${data.title}</h2>
                            <div class="text-base sm:text-lg text-gray-300">${data.body}</div>
                        </div>
                    </div>`;
                    break;
                case 'standard':
                     innerHtml = `<div class="w-full h-full flex flex-col items-center justify-start text-center pt-12 sm:pt-16">
                        <h2 class="font-cinzel text-3xl sm:text-4xl font-bold mb-8">${data.title}</h2>
                        <div class="max-w-3xl text-lg text-gray-300 mb-8">${data.body}</div>
                        ${data.cards ? `
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl">
                                ${data.cards.map(card => `<div class="data-card p-6 rounded-lg text-left"><h3 class="font-bold text-xl mb-2 text-cyan-400">${card.title}</h3><p class="text-gray-300">${card.body}</p></div>`).join('')}
                            </div>
                        ` : ''}
                     </div>`;
                    break;
                 case 'market':
                     innerHtml = `<div class="w-full h-full flex flex-col items-center justify-center text-center">
                        <h2 class="font-cinzel text-3xl sm:text-4xl font-bold mb-4">${data.title}</h2>
                        <p class="max-w-3xl mb-8 text-gray-400">${data.body}</p>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 w-full max-w-4xl text-center">
                            ${data.stats.map(stat => `
                                <div class="data-card p-4 rounded-lg">
                                    <p class="text-3xl font-bold text-cyan-400">${stat.value}</p>
                                    <p class="text-sm">${stat.label}</p>
                                </div>
                            `).join('')}
                        </div>
                     </div>`;
                    break;
                case 'level':
                    innerHtml = `<div class="w-full h-full flex flex-col md:flex-row items-center gap-8">
                        <div class="w-full md:w-1/2 flex flex-col justify-center text-left">
                            <p class="text-sm text-gray-500">LEVEL ${data.level} // ${data.rank}</p>
                            <h2 class="font-cinzel text-3xl sm:text-4xl font-bold my-4">${data.title}</h2>
                            <p class="text-lg text-gray-300 mb-6">${data.body}</p>
                            <p class="text-xl text-cyan-400 data-card p-4 rounded-lg">EG: "${data.prompt}"</p>
                        </div>
                        <div class="w-full md:w-1/2 flex items-center justify-center mt-4 md:mt-0">
                            <img src="${data.ui_image}" alt="UI Mockup" class="max-h-[400px] sm:max-h-[500px] border-2 border-gray-700 rounded-2xl" loading="lazy">
                        </div>
                    </div>`;
                    break;
                case 'business':
                     innerHtml = `<div class="w-full h-full flex flex-col items-center justify-center text-center">
                        <h2 class="font-cinzel text-3xl sm:text-4xl font-bold mb-8">${data.title}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl text-left">
                            ${data.items.map(item => `
                                <div class="data-card p-4 rounded-lg">
                                    <h3 class="font-bold text-lg text-cyan-400 mb-2">${item.title}</h3>
                                    <p class="text-sm text-gray-300">${item.body}</p>
                                </div>
                            `).join('')}
                        </div>
                     </div>`;
                    break;
                case 'paradox':
                     innerHtml = `<div class="w-full h-full flex flex-col md:flex-row items-center justify-center gap-0 md:gap-8">
                         <div class="w-full h-48 md:h-full md:w-1/2 bg-cover bg-center flex-shrink-0" style="background-image: url('${data.image}')"></div>
                         <div class="w-full md:w-1/2 flex flex-col justify-center text-left p-6 md:p-4">
                            <h2 class="font-cinzel text-3xl sm:text-4xl font-bold mb-4 md:mb-8">${data.title}</h2>
                            <ul class="text-left space-y-4 text-lg sm:text-xl">
                                ${data.paradoxes.map(p => `<li><span class="text-magenta-500 font-bold mr-2">》</span>${p}</li>`).join('')}
                            </ul>
                        </div>
                    </div>`;
                    break;
            }
            // The outer div structure is now consistent for all slide types
            return `<div class="slide w-full h-full p-4 sm:p-8 overflow-y-auto">
                        <img src="images/logo.png" alt="The Unseen Logo" class="absolute top-4 left-4 w-10 h-10 sm:w-12 sm:h-12" loading="lazy">
                        ${innerHtml}
                    </div>`;
        }
        
        /**
         * Main function to navigate between slides.
         */
        function showSlide(n) {
            const newIndex = (n + totalSlides) % totalSlides;

            if (slideElements[currentSlide]) {
                slideElements[currentSlide].classList.remove('slide-active');
            }
            if (indicators[currentSlide]) {
                indicators[currentSlide].classList.remove('active');
            }
            
            if (!slideElements[newIndex]) {
                const slideHtml = createSlideHTML(slideData[newIndex]);
                const slideElement = document.createElement('div');
                slideElement.innerHTML = slideHtml;
                slideElements[newIndex] = slideElement.firstElementChild;
                container.appendChild(slideElements[newIndex]);
            }

            slideElements[newIndex].classList.add('slide-active');
            if (indicators[newIndex]) {
                indicators[newIndex].classList.add('active');
            }
            
            // Update the mobile indicator text
            mobileIndicator.textContent = `${newIndex + 1} / ${totalSlides}`;
            
            currentSlide = newIndex;
        }
        
        /**
         * Handlers for touch events to detect swipes.
         */
        function handleTouchStart(e) {
            touchStartX = e.changedTouches[0].screenX;
        }

        function handleTouchEnd(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }

        function handleSwipe() {
            const swipeDistance = touchEndX - touchStartX;
            if (swipeDistance > swipeThreshold) {
                // Swiped right
                showSlide(currentSlide - 1);
            } else if (swipeDistance < -swipeThreshold) {
                // Swiped left
                showSlide(currentSlide + 1);
            }
        }

        /**
         * Initializes the slideshow, indicators, and event listeners.
         */
        function initializeSlideshow() {
            // Create desktop indicators
            for (let i = 0; i < totalSlides; i++) {
                const indicator = document.createElement('div');
                indicator.classList.add('slide-indicator', 'w-2.5', 'h-2.5', 'border-2', 'border-gray-600', 'rounded-full', 'cursor-pointer', 'transition-all');
                indicator.addEventListener('click', () => showSlide(i));
                indicatorContainer.appendChild(indicator);
            }
            
            // --- Event Listeners ---
            // Buttons
            prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
            nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));
            
            // Keyboard
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') showSlide(currentSlide + 1);
                else if (e.key === 'ArrowLeft') showSlide(currentSlide - 1);
            });

            // Touch / Swipe
            container.addEventListener('touchstart', handleTouchStart, false);
            container.addEventListener('touchend', handleTouchEnd, false);

            // Show the first slide
            showSlide(0);
        }
        
        // --- INITIALIZATION ---
        const indicators = indicatorContainer.children;
        initializeSlideshow();

    </script>
</body>
</html>
